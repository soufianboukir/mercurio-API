<!doctype html>
<html>
  <head>
    <title>Mercurio API Documentation</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        padding: 2rem;
        line-height: 1.6;
        background: #fdfdfd;
        color: #333;
      }
      h1 {
        border-bottom: 3px solid #4a90e2;
        padding-bottom: 0.5rem;
      }
      h2 {
        margin-top: 2rem;
        color: #444;
        border-left: 5px solid #4a90e2;
        padding-left: 0.5rem;
      }
      .endpoint {
        display: inline-block;
        font-family: monospace;
        padding: 0.3rem 0.6rem;
        border-radius: 6px;
        font-weight: bold;
        font-size: 20px;
        margin-bottom: 0.3rem;
      }
      .method {
        padding: 0.3rem 0.6rem;
        border-radius: 6px;
        font-weight: bold;
        color: white;
        margin-right: 0.5rem;
      }
      .GET { background-color: #2d9cdb; }
      .POST { background-color: #27ae60; }
      .PUT { background-color: #f39c12; }
      .DELETE { background-color: #e74c3c; }
      pre {
        background: #e3e3e3;
        padding: 1rem;
        border-radius: 6px;
        font-size: 17px;
        overflow-x: auto;
        margin-top: 0.5rem;
      }
      section {
        margin-bottom: 2rem;
      }
      code {
        background: #eee;
        padding: 0.2rem 0.4rem;
        font-size: 18px;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <h1>Mercurio API Documentation</h1>
    <h2>Base URL: <code>https://mercuirio-api/api</code></h2>

    <!-- AUTH ROUTES -->
    <section>
      <h2>Auth</h2>

      <div><span class="method POST">POST</span><span class="endpoint">/auth/signup</span></div>
      <p>Register a new user</p>
      <pre>{
  "email": "user@example.com",
  "password": "123456"
}</pre>

      <div><span class="method POST">POST</span><span class="endpoint">/auth/login</span></div>
      <p>Login and get access token</p>
      <pre>{
  "email": "user@example.com",
  "password": "123456"
}</pre>
      <p>Response:</p>
      <pre>{
  "access_token": "...",
  "user": { "id": "...", "email": "..." }
}</pre>

      <div><span class="method POST">POST</span><span class="endpoint">/auth/logout</span></div>
      <p>Logout current user (requires <code>Authorization</code> header)</p>

      <div><span class="method GET">GET</span><span class="endpoint">/auth/profile</span></div>
      <p>Get logged-in user profile (requires <code>Authorization</code> header)</p>

      <div><span class="method PUT">PUT</span><span class="endpoint">/auth/profile</span></div>
      <p>Update logged-in user profile</p>
      <pre>{
  "full_name": "New Name",
  "role": "student"
}</pre>

      <div><span class="method POST">POST</span><span class="endpoint">/auth/forgot-password</span></div>
      <p>Request password reset (reset link sent to email)</p>
      <pre>{
  "email": "user@example.com"
}</pre>

      <div><span class="method PUT">PUT</span><span class="endpoint">/auth/reset-password</span></div>
      <p>Change password (requires token from reset link)</p>
      <pre>{
  "access_token": "token-from-url",
  "new_password": "newStrongPass"
}</pre>
    </section>

    <!-- USERS ROUTES -->
    <section>
      <h2>Users (Admin only)</h2>

      <div><span class="method GET">GET</span><span class="endpoint">/users/all</span></div>
      <p>List all users (paginated, 10 per page)</p>
      <p>Query params:</p>
      <pre>?page=1</pre>
      <p>Response:</p>
      <pre>{
  "page": 1,
  "pageSize": 10,
  "totalPages": 5,
  "totalUsers": 42,
  "users": [
    { "user_id": "...", "email": "...", "role": "student" }
  ]
}</pre>

      <div><span class="method GET">GET</span><span class="endpoint">/users/:id</span></div>
      <p>Get user details by ID</p>
      <pre>{
  "user_id": "...",
  "email": "user@example.com",
  "full_name": "Soufian Boukir",
  "role": "student",
  "created_at": "2025-01-01T12:00:00Z"
}</pre>

      <div><span class="method DELETE">DELETE</span><span class="endpoint">/users/:id</span></div>
      <p>Delete user and related profile</p>
      <p>Response:</p>
      <pre>{ "message": "User and profile deleted successfully" }</pre>
    </section>
  </body>
</html>
