<!doctype html>
<html>
  <head>
    <title>Mercurio API Docs</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, sans-serif;
        padding: 2rem;
        background: #fdfdfd;
        color: #333;
        line-height: 1.5;
      }
      h1 {
        border-bottom: 3px solid #4a90e2;
      }
      h2 {
        margin-top: 2rem;
        border-left: 4px solid #4a90e2;
        padding-left: 0.5rem;
      }
      .endpoint {
        font-family: monospace;
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 0.3rem;
        display: inline-block;
      }
      .method {
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        color: #fff;
        font-weight: bold;
        margin-right: 0.4rem;
      }
      .GET {
        background: #2d9cdb;
      }
      .POST {
        background: #27ae60;
      }
      .PUT {
        background: #f39c12;
      }
      .DELETE {
        background: #e74c3c;
      }
      pre {
        background: #f0f0f0;
        padding: 0.6rem;
        border-radius: 5px;
        font-size: 14px;
        overflow-x: auto;
        margin: 0.3rem 0 0.8rem 0;
      }
      code {
        background: #eee;
        padding: 0.1rem 0.3rem;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <h1>Mercurio API Docs</h1>
    <h2>Base URL: <code>https://mercurio-api.vercel.app/api</code></h2>
    <p>
      <b>Auth:</b> Use header <code>Authorization: Bearer &lt;token&gt;</code> for protected routes.
    </p>

    <!-- AUTH -->
    <h2>Auth</h2>
    <p><span class="method POST">POST</span><span class="endpoint">/auth/signup</span></p>
    <pre>{ "email":"user@example.com","password":"123456" }</pre>

    <p><span class="method POST">POST</span><span class="endpoint">/auth/login</span></p>
    <pre>
{ "email":"user@example.com","password":"123456" }
Response: { "access_token":"...", "user":{ "id":"..","email":".." }}</pre
    >

    <p><span class="method POST">POST</span><span class="endpoint">/auth/logout</span></p>
    <pre>{ "message":"Logged out" }</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/auth/profile</span></p>
    <pre>{ "id":"..","email":"user@example.com","role":"student" }</pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/auth/profile</span></p>
    <pre>{ "full_name":"New Name" } â†’ { "id":"..","full_name":"New Name" }</pre>

    <p><span class="method POST">POST</span><span class="endpoint">/auth/forgot-password</span></p>
    <pre>{ "email":"user@example.com" }</pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/auth/reset-password</span></p>
    <pre>{ "access_token":"..","new_password":"newPass123" }</pre>

    <!-- USERS -->
    <h2>Users (Admin)</h2>
    <p><span class="method GET">GET</span><span class="endpoint">/users/all?page=1</span></p>
    <pre>{ "page":1,"users":[{ "id":"..","email":".." }] }</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/users/:id</span></p>
    <pre>{ "id":"..","email":"..","role":"student" }</pre>

    <p><span class="method DELETE">DELETE</span><span class="endpoint">/users/:id</span></p>
    <pre>{ "message":"User deleted successfully" }</pre>

    <!-- PRODUCTS -->
    <h2>Products</h2>
    <p><span class="method GET">GET</span><span class="endpoint">/products/all?page=1</span></p>
    <pre>{ "page":1,"products":[{ "id":1,"name":"Product A" }] }</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/products/:id</span></p>
    <pre>{ "id":68,"name":"Wireless Headphones","price":8.99 }</pre>

    <p>
      <span class="method POST">POST</span><span class="endpoint">/products/create</span> (Admin)
    </p>
    <pre>{ "name":"Phone","price":299,"stock":20,"category_id":21 }</pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/products/:id</span> (Admin)</p>
    <pre>{ "name":"Phone Updated","stock":15 }</pre>

    <p>
      <span class="method DELETE">DELETE</span><span class="endpoint">/products/:id</span> (Admin)
    </p>
    <pre>{ "message":"Product deleted successfully" }</pre>

    <p>
      <span class="method GET">GET</span
      ><span class="endpoint">/products/category/:category_id?page=1</span>
    </p>
    <pre>{ "page":1,"products":[{ "id":1,"name":"Product A" }] }</pre>

    <p>
      <span class="method GET">GET</span
      ><span class="endpoint">/products/search/withQuery?query=phone&page=1</span>
    </p>
    <pre>{ "page":1,"products":[{ "id":2,"name":"Smartphone" }] }</pre>

    <!-- CATEGORIES -->
    <h2>Categories</h2>
    <p><span class="method GET">GET</span><span class="endpoint">/categories/all</span></p>
    <pre>[{ "id":21,"name":"Garden" },{ "id":22,"name":"Computers" }]</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/categories/:id</span></p>
    <pre>{ "id":22,"name":"Computers" }</pre>

    <p>
      <span class="method POST">POST</span><span class="endpoint">/categories/create</span> (Admin)
    </p>
    <pre>{ "name":"Phones","description":"Explore latest Phones..." }</pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/categories/:id</span> (Admin)</p>
    <pre>{ "name":"Phones Updated" }</pre>

    <p>
      <span class="method DELETE">DELETE</span><span class="endpoint">/categories/:id</span> (Admin)
    </p>
    <pre>{ "message":"Category deleted successfully" }</pre>

    <!-- CART -->
    <h2>Cart</h2>

    <p><span class="method GET">GET</span><span class="endpoint">/cart/all</span> (auth)</p>
    <pre>
    [
      {
        "id": 12,
        "quantity": 2,
        "product": {
          "id": 68,
          "name": "Wireless Headphones",
          "price": 8.99
        }
      }
    ]
    </pre>

    <p><span class="method POST">POST</span><span class="endpoint">/cart/create</span> (auth)</p>
    <pre>
    Request: { "product_id": 68, "quantity": 1 }
    Response: { "id": 12, "user_id": "user123", "product_id": 68, "quantity": 1 }
    </pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/cart/:itemId</span> (auth)</p>
    <pre>
    Request: { "quantity": 3 }
    Response: { "id": 12, "user_id": "user123", "product_id": 68, "quantity": 3 }
    </pre>

    <p>
      <span class="method DELETE">DELETE</span><span class="endpoint">/cart/:itemId</span> (auth)
    </p>
    <pre>
    { "message": "Item removed from cart" }
    </pre>

    <!-- ORDERS -->
    <h2>Orders</h2>

    <p><span class="method GET">GET</span><span class="endpoint">/orders/all</span> (auth)</p>
    <pre>
      [
      {
          "id": 3,
          "created_at": "2025-09-22T17:26:21.965934+00:00",
          "total": 179.48,
          "status": "pending",
          "profile_id": "cd2d7381-7123-44a8-b50c-61e0067403f6",
          "order_items": [
              {
                  "id": 1,
                  "price": 4999,
                  "product": {
                      "id": 70,
                      "name": "Awesome Rubber Shoes",
                      ...
                  },
                  "order_id": 3,
                  ...
              },
              {
                  "id": 2,
                  "price": 7950,
                  "product": {
                      "id": 71,
                      "name": "Awesome Cotton Tuna",
                      ...
                  },
                  "order_id": 3,
                  ...
              }
          ]
      },
      {
          "id": 2,
          "created_at": "2025-09-22T17:25:31.94497+00:00",
          "total": 179.48,
          "status": "pending",
          "profile_id": "cd2d7381-7123-44a8-b50c-61e0067403f6",
          "order_items": []
      }
  ]
    </pre>

    <p><span class="method POST">POST</span><span class="endpoint">/order/create</span> (auth)</p>
    <pre>
    Request: {
      "items": [
            { "product_id": 70, "quantity": 2, "price": 49.99 },
            { "product_id": 71, "quantity": 1, "price": 79.50 }
        ]
    }
    Response: {
        "id": 3,
        "created_at": "2025-09-22T17:26:21.965934+00:00",
        "total": 179.48,
        "status": "pending",
        "profile_id": "cd2d7381-7123-44a8-b50c-61e0067403f6",
        "items": [
            {
                "order_id": 3,
                "product_id": 70,
                "quantity": 2,
                "price": 4999
            },
            {
                "order_id": 3,
                "product_id": 71,
                "quantity": 1,
                "price": 7950
            }
        ]
    }
    </pre>

    <p><span class="method GET">GET</span><span class="endpoint">/order/:id</span> (auth)</p>
    <pre>
    Response: {
        "id": 1,
        "created_at": "2025-09-22T17:25:00.356489+00:00",
        "total": 179.48,
        "status": "pending",
        "profile_id": "cd2d7381-7123-44a8-b50c-61e0067403f6",
        "order_items": []
    }
    </pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/order/:id</span> (admin)</p>
    <pre>
    Request: {
      "status": "cancelled"
    }
    Response: {
      "id": 1,
      "created_at": "2025-09-22T17:25:00.356489+00:00",
      "total": 179.48,
      "status": "cancelled",
      "profile_id": "cd2d7381-7123-44a8-b50c-61e0067403f6"
    }
    </pre>

    <p>
      <span class="method DELETE">DELETE</span><span class="endpoint">/cart/:itemId</span> (auth ||
      admin)
    </p>
    <pre>
      {
          "message": "Order cancelled"
      }
    </pre>


    <!-- WISHLIST -->
    <h2>Wishlist</h2>

    <p><span class="method GET">GET</span><span class="endpoint">/wishlist/all</span> (auth)</p>
    <pre>
      [
        {
            "id": 1,
            "product": {
                "id": 74,
                "name": "Small Concrete Car",
                "image": "https://loremflickr.com/2711/1009/product?lock=8788736141285686",
                "price": 45.89,
                "stock": 48,
                "created_at": "2025-08-24T13:27:54.733+00:00",
                "category_id": 26,
                "description": "The Team-oriented mobile hub Towels offers reliable performance and worthless design"
            }
        },
        {
            "id": 2,
            "product": {
                "id": 75,
                "name": "Sleek Ceramic Bacon",
                "image": "https://loremflickr.com/606/2176/product?lock=7652425830551299",
                "price": 288.09,
                "stock": 10,
                "created_at": "2025-08-24T13:27:55.237+00:00",
                "category_id": 26,
                "description": "The indigo Car combines Honduras aesthetics with Cobalt-based durability"
            }
        }
    ]
    </pre>

    <p><span class="method POST">POST</span><span class="endpoint">/wishlist/create</span> (auth)</p>
    <pre>
    Request: {
      "product_id":"76"
  }
  
    Response: {
      "id": 3,
      "product": {
          "id": 76,
          "name": "Intelligent Steel Fish",
          "image": "https://loremflickr.com/756/2109/product?lock=3638821534937501",
          "price": 47.25,
          "stock": 96,
          "created_at": "2025-08-24T13:27:56.477+00:00",
          "category_id": 24,
          "description": "Discover the proud new Pizza with an exciting mix of Concrete ingredients"
      }
  }
    </pre>

    <p><span class="method DELETE">DELETE</span><span class="endpoint">/wishlist/:itemId</span> (auth)</p>
    <pre>
    Response: {
        "message": "Item removed from wishlist"
    }  
    </pre>
  </body>
</html>
