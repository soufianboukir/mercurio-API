<!doctype html>
<html>
  <head>
    <title>Mercurio API Docs</title>
    <style>
      body { font-family: "Segoe UI", Tahoma, sans-serif; padding: 2rem; background: #fdfdfd; color: #333; line-height: 1.5; }
      h1 { border-bottom: 3px solid #4a90e2; }
      h2 { margin-top: 2rem; border-left: 4px solid #4a90e2; padding-left: .5rem; }
      .endpoint { font-family: monospace; font-size: 16px; font-weight: bold; margin-bottom: .3rem; display: inline-block; }
      .method { padding: .2rem .5rem; border-radius: 4px; color: #fff; font-weight: bold; margin-right: .4rem; }
      .GET { background: #2d9cdb; } .POST { background: #27ae60; } .PUT { background: #f39c12; } .DELETE { background: #e74c3c; }
      pre { background: #f0f0f0; padding: .6rem; border-radius: 5px; font-size: 14px; overflow-x: auto; margin: .3rem 0 .8rem 0; }
      code { background: #eee; padding: .1rem .3rem; border-radius: 4px; }
    </style>
  </head>
  <body>
    <h1>Mercurio API Docs</h1>
    <h2>Base URL: <code>https://mercurio-api.vercel.app/api</code></h2>
    <p><b>Auth:</b> Use header <code>Authorization: Bearer &lt;token&gt;</code> for protected routes.</p>

    <!-- AUTH -->
    <h2>Auth</h2>
    <p><span class="method POST">POST</span><span class="endpoint">/auth/signup</span></p>
    <pre>{ "email":"user@example.com","password":"123456" }</pre>

    <p><span class="method POST">POST</span><span class="endpoint">/auth/login</span></p>
    <pre>{ "email":"user@example.com","password":"123456" }
Response: { "access_token":"...", "user":{ "id":"..","email":".." }}</pre>

    <p><span class="method POST">POST</span><span class="endpoint">/auth/logout</span></p>
    <pre>{ "message":"Logged out" }</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/auth/profile</span></p>
    <pre>{ "id":"..","email":"user@example.com","role":"student" }</pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/auth/profile</span></p>
    <pre>{ "full_name":"New Name" } â†’ { "id":"..","full_name":"New Name" }</pre>

    <p><span class="method POST">POST</span><span class="endpoint">/auth/forgot-password</span></p>
    <pre>{ "email":"user@example.com" }</pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/auth/reset-password</span></p>
    <pre>{ "access_token":"..","new_password":"newPass123" }</pre>

    <!-- USERS -->
    <h2>Users (Admin)</h2>
    <p><span class="method GET">GET</span><span class="endpoint">/users/all?page=1</span></p>
    <pre>{ "page":1,"users":[{ "id":"..","email":".." }] }</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/users/:id</span></p>
    <pre>{ "id":"..","email":"..","role":"student" }</pre>

    <p><span class="method DELETE">DELETE</span><span class="endpoint">/users/:id</span></p>
    <pre>{ "message":"User deleted successfully" }</pre>

    <!-- PRODUCTS -->
    <h2>Products</h2>
    <p><span class="method GET">GET</span><span class="endpoint">/products/all?page=1</span></p>
    <pre>{ "page":1,"products":[{ "id":1,"name":"Product A" }] }</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/products/:id</span></p>
    <pre>{ "id":68,"name":"Wireless Headphones","price":8.99 }</pre>

    <p><span class="method POST">POST</span><span class="endpoint">/products/create</span> (Admin)</p>
    <pre>{ "name":"Phone","price":299,"stock":20,"category_id":21 }</pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/products/:id</span> (Admin)</p>
    <pre>{ "name":"Phone Updated","stock":15 }</pre>

    <p><span class="method DELETE">DELETE</span><span class="endpoint">/products/:id</span> (Admin)</p>
    <pre>{ "message":"Product deleted successfully" }</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/products/category/:category_id?page=1</span></p>
    <pre>{ "page":1,"products":[{ "id":1,"name":"Product A" }] }</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/products/search/withQuery?query=phone&page=1</span></p>
    <pre>{ "page":1,"products":[{ "id":2,"name":"Smartphone" }] }</pre>

    <!-- CATEGORIES -->
    <h2>Categories</h2>
    <p><span class="method GET">GET</span><span class="endpoint">/categories/all</span></p>
    <pre>[{ "id":21,"name":"Garden" },{ "id":22,"name":"Computers" }]</pre>

    <p><span class="method GET">GET</span><span class="endpoint">/categories/:id</span></p>
    <pre>{ "id":22,"name":"Computers" }</pre>

    <p><span class="method POST">POST</span><span class="endpoint">/categories/create</span> (Admin)</p>
    <pre>{ "name":"Phones","description":"Explore latest Phones..." }</pre>

    <p><span class="method PUT">PUT</span><span class="endpoint">/categories/:id</span> (Admin)</p>
    <pre>{ "name":"Phones Updated" }</pre>

    <p><span class="method DELETE">DELETE</span><span class="endpoint">/categories/:id</span> (Admin)</p>
    <pre>{ "message":"Category deleted successfully" }</pre>
  </body>
</html>
